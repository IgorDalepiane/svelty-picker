import{c as l,S as b}from"./index-223c5fdc.js";import{S as P}from"./index-223c5fdc.js";import"./index-1e0e0ebd.js";import"./preload-helper-b22d3b18.js";const h=["value","name","placeholder","start-date","end-date","disabled","input-classes","mode","format","week-start","today-btn","clear-btn","autoclose","required"];function c(i,s){switch(i){case"value":return s||"";case"required":case"disabled":case"today-btn":case"clear-btn":case"autoclose":return s!==null&&s!=="false";case"weekStart":return parseInt(s)}return s}function a(i){return i.includes("-")?i.split("-").reduce((s,t,n)=>(n&&(t=t[0].toUpperCase()+t.substr(1)),s+t),""):i}class p extends HTMLElement{constructor(){super(),this.picker=null;const s=["value","name","placeholder","mode","format"].reduce((e,r)=>(e[r]={get(){return c(r,this.getAttribute(r))},set(o){this.setAttribute(r,o)}},e),{}),t={form:{get(){return this.closest("form")}},weekStart:{get(){return this.getAttribute("week-start")},set(e){this.setAttribute("week-start",e)}},startDate:{get(){return this.getAttribute("start-date")},set(e){e&&this.setAttribute("start-date",e),!e&&this.removeAttribute("start-date")}},endDate:{get(){return this.getAttribute("end-date")},set(e){e&&this.setAttribute("end-date",e),!e&&this.removeAttribute("end-date")}},inputClasses:{get(){return this.getAttribute("input-classes")},set(e){e&&this.setAttribute("input-classes",e),!e&&this.removeAttribute("input-classes")}}},n=["required","disabled","today-btn","clear-btn","autoclose"].reduce((e,r)=>{const o=a(r);return e[o]={get(){const u=this.hasAttribute(r),d=u?this.getAttribute(r)!=="false":!0;return u?d:l[o]},set(u){u?this.setAttribute(r,u=""):this.hasAttribute(r)?this.removeAttribute(r):this.picker.$set({[o]:u})}},e},{});Object.defineProperties(this,Object.assign({},s,t,n))}focus(){if(this.disabled)return;const s=this.querySelector("input");s&&s.focus()}static get observedAttributes(){return h}attributeChangedCallback(s,t,n){this.picker&&t!==n&&this.picker.$set({[a(s)]:c(s,n)})}connectedCallback(){if(this.picker)return;let s={};for(const t of h)this.hasAttribute(t)&&(s[a(t)]=c(t,this.getAttribute(t)));this.picker=new b({target:this,props:s}),this.picker.$on("input",t=>{this.setAttribute("value",t.target.value),this.dispatchEvent(new Event("input"))}),this.picker.$on("blur",t=>{this.dispatchEvent(new Event("blur"))}),setTimeout(()=>{if(this.hasAttribute("from")){const t=document.getElementById(this.getAttribute("from"));t.oninput=n=>{this.picker.$set({startDate:t.value})}}if(this.hasAttribute("to")){const t=document.getElementById(this.getAttribute("to"));t.oninput=n=>{this.picker.$set({endDate:t.value})}}})}disconnectedCallback(){this.picker&&this.picker.destroy()}}function k(i){window.customElements.define(i,p)}export{P as default,k as registerElement};
